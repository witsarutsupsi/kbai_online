(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~336289b9"],{"0676":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"clipper-range"},[i("div",{directives:[{name:"stream",rawName:"v-stream:mousedown",value:t.mousedown$,expression:"mousedown$",arg:"mousedown"},{name:"stream",rawName:"v-stream:touchstart",value:t.touchstart$,expression:"touchstart$",arg:"touchstart"}],staticClass:"wrap"},[i("div",{staticClass:"stick"}),i("div",{staticClass:"bar",style:t.barStyle})])])},o=[],r=(i("c5f6"),i("ebb6")),n=i("3e18"),s=i("9f2d"),c=i("4d82"),h=i("a744"),l=i("2bd2"),d=i("6e77"),u={domStreams:["mousedown$","touchstart$"],subscriptions:function(){var t=this;return this.init$=new l["a"],this.mouseup$=Object(d["a"])(window,"mouseup"),this.mousemove$=Object(d["a"])(window,"mousemove"),this.touchmove$=Object(d["a"])(window,"touchmove",{passive:!1}),this.touchend$=Object(d["a"])(window,"touchend",{passive:!1}),this.mouseEvent$=this.mousedown$.pipe(Object(r["a"])((function(t){return t.event.preventDefault(),t.event})),Object(n["a"])((function(){return t.mousemove$.pipe(Object(s["a"])(t.mouseup$),Object(r["a"])((function(t){return t.clientX})))})),Object(c["a"])(this.mousedown$.pipe(Object(r["a"])((function(t){return t.event.clientX}))))),this.touchEvent$=this.touchstart$.pipe(Object(r["a"])((function(t){return t.event.preventDefault(),t.event})),Object(n["a"])((function(){return t.touchmove$.pipe(Object(s["a"])(t.touchend$),Object(r["a"])((function(t){return t.touches[0].clientX})))})),Object(c["a"])(this.touchstart$.pipe(Object(r["a"])((function(t){return t.event.touches[0].clientX}))))),this.dragSubject$=(new l["a"]).pipe(Object(c["a"])(this.mouseEvent$),Object(c["a"])(this.touchEvent$),Object(r["a"])(this.getLeftPercent),Object(h["a"])(0),Object(c["a"])(this.init$)),{x$:this.dragSubject$}},props:{value:{type:Number,default:0},max:{type:Number,default:10},min:{type:Number,default:0}},computed:{barStyle:function(){return{left:"".concat(100*this.x$,"%")}},val:function(){var t=this.max-this.min,e=this.getPos(),i=e.stickPos,a=e.maxLeft;return this.x$*i.width/a*t+this.min}},watch:{value:function(){this.initVal()}},mounted:function(){var t=this;this.initVal(),this.$subscribeTo(this.dragSubject$,(function(){t.$emit("input",t.val)}))},methods:{getPos:function(){var t=this.$el.querySelector(".stick").getBoundingClientRect(),e=this.$el.querySelector(".bar").getBoundingClientRect();return{maxLeft:t.width-e.width,stickPos:t,barPos:e}},getLeftPercent:function(t){var e=this.$el.querySelector(".stick").getBoundingClientRect(),i=this.$el.querySelector(".bar").getBoundingClientRect(),a=e.width-i.width,o=Math.max(Math.min(t-e.left,a),0);return o/e.width},initVal:function(){var t=this.max-this.min,e=(this.value-this.min)/t,i=this.getPos();this.init$.next(e*i.maxLeft/i.stickPos.width)}}},b=u,p=(i("d4ce"),i("2877")),f=Object(p["a"])(b,a,o,!1,null,"2fd0acf9",null);e["a"]=f.exports},"193a":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".wrap[data-v-d9bfe1be]{position:relative;overflow:hidden;width:100%;height:100%;cursor:-webkit-grab;cursor:grab}.stem-outer[data-v-d9bfe1be]{display:block}.stem-bg[data-v-d9bfe1be],.stem-outer[data-v-d9bfe1be]{position:relative;top:0;left:0;width:100%}.img-center[data-v-d9bfe1be]{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.img-center[data-v-d9bfe1be],.img-scale[data-v-d9bfe1be]{width:100%;position:absolute}.img-scale[data-v-d9bfe1be]{top:0;left:0;height:100%}.img-translate[data-v-d9bfe1be]{height:100%}.img[data-v-d9bfe1be],.img-translate[data-v-d9bfe1be]{position:absolute;top:0;left:0;width:100%}.img[data-v-d9bfe1be]{display:block}.cover[data-v-d9bfe1be]{pointer-events:none;top:0;left:0;width:100%;height:100%;overflow:hidden}.area[data-v-d9bfe1be],.cover[data-v-d9bfe1be]{position:absolute}.area[data-v-d9bfe1be]{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-style:solid}.stem-area[data-v-d9bfe1be]{display:block;position:relative}.grid[data-v-d9bfe1be]{width:100%;height:100%;top:0;left:0;pointer-events:none}.grid[data-v-d9bfe1be],.grid-item[data-v-d9bfe1be]{position:absolute}.grid-item[data-v-d9bfe1be]{border-color:hsla(0,0%,100%,.7);border-style:dashed;width:50%;height:50%;-webkit-box-sizing:border-box;box-sizing:border-box}.grid-item[data-v-d9bfe1be]:first-child{top:0;left:0;border-width:0 1px 1px 0;-webkit-transform:translate(.5px,.5px);transform:translate(.5px,.5px)}.grid-item[data-v-d9bfe1be]:nth-child(2){top:0;right:0;border-width:0 0 1px 0;-webkit-transform:translate(-.5px,.5px);transform:translate(-.5px,.5px)}.grid-item[data-v-d9bfe1be]:nth-child(3){bottom:0;left:0;border-width:0 1px 0 0;-webkit-transform:translate(.5px,-.5px);transform:translate(.5px,-.5px)}.grid-item[data-v-d9bfe1be]:nth-child(4){bottom:0;right:0;border-width:0;-webkit-transform:translate(-.5px,-.5px);transform:translate(-.5px,-.5px)}",""])},"1f77":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".wrap[data-v-6f79f498]{width:100%;position:relative;overflow:hidden}.shim[data-v-6f79f498]{display:block;width:100%;position:relative;top:0;left:0}.img-pos[data-v-6f79f498]{position:absolute;top:0;left:0;width:100%;-webkit-transform-origin:0 0;transform-origin:0 0}.img-rotate[data-v-6f79f498]{position:relative;top:0;left:0;width:100%;-webkit-transform-origin:50% 50%;transform-origin:50% 50%}.img[data-v-6f79f498]{left:0;top:0;position:relative;width:100%;display:block}.clipper-range[data-v-27132352]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:10px}.wrap[data-v-27132352]{position:relative;height:25px;width:100%}.stick[data-v-27132352]{position:absolute;width:100%;height:2px;background-color:grey;top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.bar[data-v-27132352]{position:absolute;cursor:pointer;width:12px;height:100%;background-color:#fff;-webkit-box-shadow:1px 1px 4px rgba(0,0,0,.5);box-shadow:1px 1px 4px rgba(0,0,0,.5);top:0;left:0}.vertical.clip-area .img[data-v-dcbb6b8a],.vertical .img-scale[data-v-dcbb6b8a]{width:auto;height:100%}.clip-area[data-v-dcbb6b8a]{position:relative;width:100%;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:crosshair}.clip-area .img[data-v-dcbb6b8a]{position:relative}.clip-area .img[data-v-dcbb6b8a],.stem-canvas[data-v-dcbb6b8a]{width:100%;display:block;pointer-events:none}.in-pad[data-v-dcbb6b8a]{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box}.img-scale[data-v-dcbb6b8a]{pointer-events:none;position:relative;width:100%}.zoom-area[data-v-dcbb6b8a]{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;border-style:solid;border-color:#1baae8;overflow:visible}.corner[data-v-dcbb6b8a]{position:absolute;border-color:#fff;border-style:solid;width:10px;height:10px;opacity:.7}.corner[data-v-dcbb6b8a]:hover{opacity:1}.corner1[data-v-dcbb6b8a]{top:0;left:0;border-width:3px 0 0 3px;cursor:nwse-resize}.corner2[data-v-dcbb6b8a]{top:0;right:0;border-width:3px 3px 0 0;cursor:nesw-resize}.corner3[data-v-dcbb6b8a]{bottom:0;right:0;border-width:0 3px 3px 0;cursor:nwse-resize}.corner4[data-v-dcbb6b8a]{bottom:0;left:0;border-width:0 0 3px 3px;cursor:nesw-resize}.extend[data-v-dcbb6b8a]{color:#fff;top:0;left:0;width:100%;height:100%;cursor:move}.extend.outer[data-v-dcbb6b8a]{width:100%;height:100%;position:absolute;border-style:solid;-webkit-box-sizing:content-box;box-sizing:content-box;opacity:0;-webkit-transition:opacity .5s;transition:opacity .5s}.extend.outer[data-v-dcbb6b8a]:hover{opacity:.3}.extend.inner[data-v-dcbb6b8a]{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.extend.inner:hover .drag-inset[data-v-dcbb6b8a]{opacity:.3}.extend.inner:hover .drag-inset:hover.drag-inset[data-v-dcbb6b8a]{opacity:0}.drag-inset[data-v-dcbb6b8a]{position:relative;-webkit-box-shadow:0 0 0 4080px #fff;box-shadow:0 0 0 4080px #fff;top:0;left:0;width:100%;height:100%;cursor:-webkit-grab;cursor:grab;opacity:0;-webkit-transition:opacity .5s;transition:opacity .5s}.grid[data-v-dcbb6b8a]{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}.grid-item[data-v-dcbb6b8a]{position:absolute;border-color:hsla(0,0%,100%,.7);border-style:dashed;width:50%;height:50%;-webkit-box-sizing:border-box;box-sizing:border-box}.grid-item[data-v-dcbb6b8a]:first-child{top:0;left:0;border-width:0 1px 1px 0;-webkit-transform:translate(.5px,.5px);transform:translate(.5px,.5px)}.grid-item[data-v-dcbb6b8a]:nth-child(2){top:0;right:0;border-width:0 0 1px 0;-webkit-transform:translate(-.5px,.5px);transform:translate(-.5px,.5px)}.grid-item[data-v-dcbb6b8a]:nth-child(3){bottom:0;left:0;border-width:0 1px 0 0;-webkit-transform:translate(.5px,-.5px);transform:translate(.5px,-.5px)}.grid-item[data-v-dcbb6b8a]:nth-child(4){bottom:0;right:0;border-width:0;-webkit-transform:translate(-.5px,-.5px);transform:translate(-.5px,-.5px)}.wrap[data-v-75a8230c]{position:relative;overflow:hidden;width:100%;height:100%;cursor:-webkit-grab;cursor:grab}.stem-outer[data-v-75a8230c]{display:block}.stem-bg[data-v-75a8230c],.stem-outer[data-v-75a8230c]{position:relative;top:0;left:0;width:100%}.img-center[data-v-75a8230c]{width:100%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.img-scale[data-v-75a8230c],.img-translate[data-v-75a8230c]{position:absolute;top:0;left:0;width:100%;height:100%}.img[data-v-75a8230c]{position:absolute;top:0;left:0;width:100%;display:block}.cover[data-v-75a8230c]{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.area[data-v-75a8230c]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-style:solid}.stem-area[data-v-75a8230c]{display:block;position:relative}.grid[data-v-75a8230c]{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}.grid-item[data-v-75a8230c]{position:absolute;border-color:hsla(0,0%,100%,.7);border-style:dashed;width:50%;height:50%;-webkit-box-sizing:border-box;box-sizing:border-box}.grid-item[data-v-75a8230c]:first-child{top:0;left:0;border-width:0 1px 1px 0;-webkit-transform:translate(.5px,.5px);transform:translate(.5px,.5px)}.grid-item[data-v-75a8230c]:nth-child(2){top:0;right:0;border-width:0 0 1px 0;-webkit-transform:translate(-.5px,.5px);transform:translate(-.5px,.5px)}.grid-item[data-v-75a8230c]:nth-child(3){bottom:0;left:0;border-width:0 1px 0 0;-webkit-transform:translate(.5px,-.5px);transform:translate(.5px,-.5px)}.grid-item[data-v-75a8230c]:nth-child(4){bottom:0;right:0;border-width:0;-webkit-transform:translate(-.5px,-.5px);transform:translate(-.5px,-.5px)}",""])},"27af":function(t,e,i){"use strict";var a=i("6604"),o=i.n(a);o.a},"382a":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".clipper-range[data-v-2fd0acf9]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:10px}.wrap[data-v-2fd0acf9]{position:relative;height:25px;width:100%}.stick[data-v-2fd0acf9]{width:100%;height:2px;background-color:grey;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.bar[data-v-2fd0acf9],.stick[data-v-2fd0acf9]{position:absolute;left:0}.bar[data-v-2fd0acf9]{cursor:pointer;width:12px;height:100%;background-color:#fff;-webkit-box-shadow:1px 1px 4px rgba(0,0,0,.5);box-shadow:1px 1px 4px rgba(0,0,0,.5);top:0}",""])},"4acf":function(t,e,i){"use strict";var a=i("a728"),o=i.n(a);o.a},"549e":function(t,e,i){var a=i("b976");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("42ee260c",a,!0,{sourceMap:!1,shadowMode:!1})},"56d0":function(t,e,i){var a=i("1f77");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("e5aaa2de",a,!0,{sourceMap:!1,shadowMode:!1})},"56dd":function(t,e,i){"use strict";(function(t){var a=i("ca1a"),o=i("0676"),r=i("6500");i.d(e,"a",(function(){return r["a"]}));var n=i("8d63"),s=i("cfda"),c=i("ce19"),h=i("d8dd");const l=function(t,e){t.use(c["a"]);const i={clipperBasic:{component:r["a"],name:"clipper-basic"},clipperPreview:{component:a["a"],name:"clipper-preview"},clipperRange:{component:o["a"],name:"clipper-range"},clipperFixed:{component:n["a"],name:"clipper-fixed"},clipperUpload:{component:s["a"],name:"clipper-upload"}},l=e=>{t.component(i[e].name,i[e].component)};e=e||{},h["a"].parentPropName=e.parentPropName||h["a"].parentPropName,e.components=void 0===e.components?i:e.components;for(let a in e.components){if(!i[a])throw new Error(`Invalid components "${a}" in vurjs-clipper plugin`);i[a].name="string"===typeof e.components[a]?e.components[a]:i[a].name,l(a)}},d={install:l};let u=null;"undefined"!==typeof window?u=window.Vue:"undefined"!==typeof t&&(u=t.Vue),u&&u.use(d)}).call(this,i("c8ba"))},6008:function(t,e,i){"use strict";var a=i("549e"),o=i.n(a);o.a},6500:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"clipper-basic"},[i("div",{staticClass:"clip-area",class:{vertical:t.isVertical},style:t.areaStyle},[i("canvas",{staticClass:"stem-canvas",attrs:{width:t.stemArea.width,height:t.stemArea.height}}),i("div",{staticClass:"in-pad",style:{padding:t.areaStyle.padding}},[i("div",{staticClass:"img-scale",style:t.scaleStyle},[i("img",{staticClass:"img",style:t.rotateStyle,attrs:{src:t.src},on:{load:function(e){t.imgLoaded(),t.emit("load",e)},error:function(e){return t.emit("error",e)}}})])]),i("div",{staticClass:"zoom-area shadow",style:t.posObj},[i("div",{staticClass:"extend outer",style:t.exOuterStyle}),i("div",{staticClass:"extend inner",style:t.exInnerStyle},[i("div",{staticClass:"drag-inset"})]),t.corner?i("div",t._l(4,(function(t){return i("div",{key:"corner"+t,staticClass:"corner",class:"corner"+t})})),0):t._e(),t.grid?i("div",{staticClass:"grid"},t._l(4,(function(t){return i("div",{key:"gridItem"+t,staticClass:"grid-item"})})),0):t._e(),t._t("area")],2)]),i("div",{staticClass:"placeholder",style:t.eptStyle},[t._t("placeholder")],2)])},o=[],r=(i("c5f6"),i("c7eb")),n=i("2bd2"),s=i("ebb6"),c=i("4d82"),h=i("5670"),l=i("3e18"),d=i("9f2d"),u=i("a744"),b={extends:{methods:r["a"],mixins:[r["d"],r["c"]]},subscriptions:function(){var t=this;return this.change$=new n["a"],this.setWH$=new n["a"],this.setTL$=new n["a"],this.initWHTL$=(new n["a"]).pipe(Object(s["a"])(this.initWHTL)),this.stop$=new n["a"],this.mousedownDrag$=(new n["a"]).pipe(Object(c["a"])(this.mousedown$),Object(h["a"])(this.isDragElement),Object(s["a"])((function(t){return t.preventDefault(),t})),Object(s["a"])((function(e){return t.eInZoom(e)})),Object(l["a"])((function(){return t.mousemove$.pipe(Object(d["a"])(t.mouseup$))}),(function(t,e){return{down:t,move:e}}))),this.touchdownDrag$=this.touchstart$.pipe(Object(h["a"])(this.isDragElement),Object(h["a"])((function(t){return 1===t.touches.length})),Object(s["a"])((function(t){return t.preventDefault(),t})),Object(s["a"])((function(e){return t.eInZoom(e.touches[0])})),Object(l["a"])((function(){return t.touchmove$.pipe(Object(d["a"])(t.touchend$),Object(h["a"])((function(t){return 1===t.touches.length})),Object(s["a"])((function(t){return t.touches[0]})))}),(function(t,e){return{down:t,move:e}}))),this.mousedownZoom$=(new n["a"]).pipe(Object(c["a"])(this.mousedown$),Object(h["a"])(this.isZoomElement),Object(s["a"])((function(t){return t.preventDefault(),t})),Object(s["a"])(this.setDownPosition),Object(l["a"])((function(){return t.mousemove$.pipe(Object(d["a"])(t.mouseup$))}),(function(t,e){return{down:t,move:e}}))),this.touchdownZoom$=this.touchstart$.pipe(Object(h["a"])(this.isZoomElement),Object(h["a"])((function(t){return 1===t.touches.length})),Object(s["a"])((function(t){return t.preventDefault(),t.touches[0]})),Object(s["a"])(this.setDownPosition),Object(l["a"])((function(){return t.touchmove$.pipe(Object(d["a"])(t.touchend$),Object(h["a"])((function(t){return 1===t.touches.length})),Object(s["a"])((function(t){return t.touches[0]})))}),(function(t,e){return{down:t,move:e}}))),this.touchTwoFingersZoom$=this.touchstart$.pipe(Object(h["a"])((function(t){return 2===t.touches.length})),Object(h["a"])(this.isTwoPointZoomElement),Object(s["a"])(this.prevent),Object(s["a"])((function(){t.stop$.next(0);var e=t.zoomPos();return{event:event,zoom:e}})),Object(l["a"])((function(){return t.touchmove$.pipe(Object(h["a"])((function(t){return 2===t.touches.length})),Object(s["a"])(t.prevent),Object(d["a"])(t.touchend$))}),(function(e,i){return t.getTwoTouchesPos(e.event,i,e.zoom)}))),this.mousedownCreate$=this.mousedown$.pipe(Object(h["a"])(this.isCreateElement),Object(s["a"])(this.prevent),Object(s["a"])(this.getFakeDown),Object(l["a"])((function(){return t.mousemove$.pipe(Object(d["a"])(t.mouseup$))}),(function(t,e){return{down:t,move:e}}))),this.touchstartCreate$=this.touchstart$.pipe(Object(h["a"])(this.isCreateElement),Object(s["a"])(this.prevent),Object(s["a"])((function(t){return t.touches[0]})),Object(s["a"])(this.getFakeDown),Object(l["a"])((function(){return t.touchmove$.pipe(Object(d["a"])(t.touchend$),Object(d["a"])(t.stop$),Object(h["a"])((function(t){return 1===t.touches.length})),Object(h["a"])((function(){return t.touchCreate})))}),(function(t,e){return{down:t,move:e.touches[0]}}))),this.dragSubject$=(new n["a"]).pipe(Object(c["a"])(this.mousedownDrag$),Object(c["a"])(this.touchdownDrag$),Object(s["a"])(this.dragMoving),Object(s["a"])(this.repositionDrag),Object(c["a"])(this.setTL$),Object(u["a"])({left:0,top:0})),this.dragCreateSubject$=this.mousedownCreate$.pipe(Object(c["a"])(this.touchstartCreate$),Object(s["a"])((function(t){var e=t.down,i=t.move;return{down:e,move:i}}))),this.zoomSubject$=(new n["a"]).pipe(Object(c["a"])(this.mousedownZoom$),Object(c["a"])(this.touchdownZoom$),Object(c["a"])(this.dragCreateSubject$),Object(s["a"])(this.reverseDownPos),Object(s["a"])(this.getCreatePos),Object(s["a"])(this.zoomingPosition),Object(c["a"])(this.touchTwoFingersZoom$),Object(s["a"])(this.setRatioWH),Object(s["a"])(this.toPercentage),Object(s["a"])(this.splitPos),Object(s["a"])((function(e){var i=e.tl,a=e.wh;return t.setTL$.next(i),a})),Object(u["a"])({width:0,height:0}),Object(c["a"])(this.initWHTL$),Object(c["a"])(this.setWH$)),this.onChange$=(new n["a"]).pipe(Object(c["a"])(this.dragSubject$),Object(c["a"])(this.change$)),{zoomTL$:this.dragSubject$,zoomWH$:this.zoomSubject$}},props:{preview:{type:String,default:""},src:{type:String,default:""},border:{type:Number,default:1},outline:{type:Number,default:6},corner:{type:Boolean,default:!0},grid:{type:Boolean,default:!0},mode:{type:String,default:"normal"},ratio:{type:Number,default:NaN},wrapRatio:{type:Number,default:NaN},touchCreate:{type:Boolean,default:!0},rotate:{type:Number,default:0},bgColor:{type:String,default:"white"},shadow:{type:String,default:"rgba(0, 0, 0, 0.4)"},scale:{type:Number,default:1},minWidth:{type:Number,default:1},minHeight:{type:Number,default:1},initWidth:{type:Number,default:50},initHeight:{type:Number,default:50}},data:function(){return{imgRatio:NaN}},computed:{posObj:function(){var t={borderWidth:this.border+"px",width:this.zoomWH$.width+"%",height:this.zoomWH$.height+"%",color:this.shadow,boxShadow:"0 0 0 "+this._shadow};for(var e in this.zoomTL$)"number"===typeof this.zoomTL$[e]&&(t[e]=this.zoomTL$[e]+"%");return t},scaleStyle:function(){return{transform:"scale(".concat(this.scale,")")}},rotateStyle:function(){return{transform:"rotate(".concat(this.rotate,"deg)")}},areaStyle:function(){var t=this.border+"px",e=this.src?"block":"none",i=this.bgColor;return{padding:t,display:e,backgroundColor:i}},eptStyle:function(){var t=this.src?"none":"block";return{display:t}},exOuterStyle:function(){var t=this.outline+this.border+"px";return{borderWidth:t,transform:"translate(-".concat(t,",-").concat(t,")")}},exInnerStyle:function(){var t=this.outline+"px";return{padding:t}},_shadow:function(){return(this.imgRatio>=1?100:100/this.imgRatio)+"vw"},stemArea:function(){return this.wrapRatio?{width:100*this.wrapRatio,height:100}:this.imgRatio?{width:this.imgEl.naturalWidth,height:this.imgEl.naturalHeight}:{}},isVertical:function(){var t=this.wrapRatio||this.ratio;return!!t&&this.imgRatio<t}},watch:{ratio:function(){this.resetData()},wrapRatio:function(){this.resetData()},bgColor:function(){this.callPreview("setData",{bgColor:this.bgColor})},scaleStyle:function(){this.change$.next(0)},rotateStyle:function(){this.change$.next(0)}},mounted:function(){var t=this;this.imgEl=this.$el.querySelector(".clipper-basic .img"),this.canvasEl=document.createElement("CANVAS"),this.areaEl=this.$el.querySelector(".clipper-basic .clip-area"),this.zoomEl=this.$el.querySelector(".clipper-basic .zoom-area"),this.scaleEl=this.$el.querySelector(".img-scale"),this.preview&&this.$subscribeTo(this.onChange$,(function(){t.$nextTick((function(){var e=t.getDrawPos().pos,i=t.rotate;t.invalidDrawPos(e)||t.callPreview("locateImage",e,i)}))}))},methods:{imgLoaded:function(){this.callPreview("setData",{src:this.src,bgColor:this.bgColor}),this.imgRatio=this.imgEl.naturalWidth/this.imgEl.naturalHeight,this.resetData()},resetData:function(){this.initWHTL$.next(!0)}}},p=b,f=(i("6008"),i("2877")),m=Object(f["a"])(p,a,o,!1,null,"7e3a48a2",null);e["a"]=m.exports},"65d5":function(t,e,i){var a=i("382a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("bd5c7274",a,!0,{sourceMap:!1,shadowMode:!1})},6604:function(t,e,i){var a=i("dd82");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("408827e2",a,!0,{sourceMap:!1,shadowMode:!1})},"8d63":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"clipper-fixed"},[i("div",{staticClass:"wrap",style:t.wrapStyle},[i("canvas",{staticClass:"stem-outer",attrs:{width:t.stemArea.width,height:t.stemArea.height}}),i("div",{staticClass:"img-center"},[i("canvas",{staticClass:"stem-bg"}),i("div",{staticClass:"img-scale",style:t.scaleStyle},[i("div",{staticClass:"img-translate",style:t.translateStyle},[i("img",{staticClass:"img",style:t.bgStyle,attrs:{src:t.src},on:{load:function(e){t.imgLoaded(),t.emit("load",e)},error:function(e){return t.emit("error",e)}}})])])]),i("div",{staticClass:"cover"},[i("div",{staticClass:"area",style:t.areaStyle},[i("canvas",{staticClass:"stem-area",style:t.stemStyle,attrs:{width:t.stemArea.width,height:t.stemArea.height}}),t.grid?i("div",{staticClass:"grid"},t._l(4,(function(t){return i("div",{key:"gridItem"+t,staticClass:"grid-item"})})),0):t._e()])])])])},o=[],r=(i("c5f6"),i("c7eb")),n=i("5670"),s=i("ebb6"),c=i("3e18"),h=i("9f2d"),l=i("a744"),d=i("4d82"),u=i("2bd2"),b={extends:{methods:r["b"],mixins:[r["d"],r["e"],r["c"]]},subscriptions:function(){var t=this;return this.setWH$=new u["a"],this.setTL$=new u["a"],this.change$=new u["a"],this.mousedownDrag$=this.mousedown$.pipe(Object(n["a"])(this.isDragElement),Object(s["a"])(this.prevent),Object(s["a"])(this.dragDownPos),Object(c["a"])((function(){return t.mousemove$.pipe(Object(s["a"])(t.prevent),Object(h["a"])(t.mouseup$))}),(function(t,e){return{down:t,move:e}}))),this.touchdownDrag$=this.touchstart$.pipe(Object(n["a"])(this.isDragElement),Object(s["a"])(this.prevent),Object(n["a"])((function(t){return 1===t.touches.length})),Object(s["a"])((function(t){return t.touches[0]})),Object(s["a"])(this.dragDownPos),Object(c["a"])((function(){return t.touchmove$.pipe(Object(h["a"])(t.touchend$),Object(n["a"])((function(t){return 1===t.touches.length})))}),(function(t,e){return{down:t,move:e.touches[0]}}))),this.wheelEvent$=this.wheel$.pipe(Object(n["a"])(this.isDragElement),Object(s["a"])(this.prevent),Object(s["a"])((function(t){return t.deltaY})),Object(s["a"])((function(t){return t>=0?-1:1}))),this.touchTwoFinger$=this.touchstart$.pipe(Object(n["a"])(this.isDragElement),Object(n["a"])((function(t){return 2===t.touches.length})),Object(s["a"])(this.prevent),Object(s["a"])(this.towPointsTouches),Object(s["a"])(this.setOrigin),Object(c["a"])((function(){return t.touchmove$.pipe(Object(h["a"])(t.touchend$),Object(n["a"])((function(t){return 2===t.touches.length})),Object(s["a"])(t.towPointsTouches))}),(function(t,e){var i=t.down,a=t.origin;return{down:i,move:e,origin:a}})),Object(s["a"])(this.twoPointsDelta)),this.wheelZoom$=(new u["a"]).pipe(Object(l["a"])(1),Object(d["a"])(this.wheelEvent$),Object(s["a"])(this.calcWheelScaling)),this.touchZoom$=(new u["a"]).pipe(Object(l["a"])(1),Object(d["a"])(this.touchTwoFinger$),Object(s["a"])(this.calcTouchScaling)),this.zoomSubject$=(new u["a"]).pipe(Object(d["a"])(this.setWH$),Object(d["a"])(this.wheelZoom$),Object(d["a"])(this.touchZoom$)),this.dragSubject$=(new u["a"]).pipe(Object(l["a"])({left:0,top:0}),Object(d["a"])(this.setTL$),Object(d["a"])(this.mousedownDrag$.pipe(Object(d["a"])(this.touchdownDrag$),Object(s["a"])(this.delta),Object(s["a"])(this.toPercentage)))),this.onChange$=(new u["a"]).pipe(Object(d["a"])(this.zoomSubject$),Object(d["a"])(this.dragSubject$),Object(d["a"])(this.change$)),{bgWH$:this.zoomSubject$,bgTL$:this.dragSubject$}},props:{src:{type:String,default:""},rotate:{type:Number,default:0},ratio:{type:Number,default:1},zoomRate:{type:Number,default:.04},minScale:{type:Number,default:.1},bgColor:{type:String,default:"white"},border:{type:Number,default:1},borderColor:{type:String,default:"white"},grid:{type:Boolean,default:!0},shadow:{type:String,default:"rgba(0, 0, 0, 0.4)"},round:{type:Boolean,default:!1},preview:{type:String,default:""}},data:function(){return{imgRatio:NaN}},computed:{areaStyle:function(){var t={color:this.shadow,borderWidth:this.border+"px",borderColor:this.borderColor,boxShadow:"0 0 0 "+this._shadow,borderRadius:this.round?"50%":""};return this.ratio>=1?t.width="50%":t.height="50%",t},scaleStyle:function(){var t=this.bgWH$;return{transform:"scale(".concat(t,")")}},translateStyle:function(){var t=this.bgTL$.left,e=this.bgTL$.top;return{transform:"translate(".concat(t,"%,").concat(e,"%)")}},bgStyle:function(){return{transform:"rotate(".concat(this.rotate,"deg)")}},wrapStyle:function(){return{backgroundColor:this.bgColor}},stemArea:function(){return{width:100,height:100/this.ratio}},stemStyle:function(){var t={};return this.ratio>=1?t.width="100%":t.height="100%",t},_shadow:function(){return(this.imgRatio>=1?100:100/this.imgRatio)+"vw"}},watch:{ratio:function(){this.resetData(),this.change$.next(0)},bgColor:function(){this.callPreview("setData",{bgColor:this.bgColor})},bgStyle:function(){this.change$.next(0)}},mounted:function(){var t=this;this.imgEl=this.$el.querySelector(".img"),this.wrapEl=this.$el.querySelector(".wrap"),this.areaEl=this.$el.querySelector(".area"),this.scaleEl=this.$el.querySelector(".img-scale"),this.translateEl=this.$el.querySelector(".img-translate"),this.stemEl=this.$el.querySelector(".stem-bg"),this.canvasEl=document.createElement("CANVAS"),this.$subscribeTo(this.onChange$,(function(){t.$nextTick((function(){var e=t.getDrawPos().pos,i=t.rotate;t.invalidDrawPos(e)||t.callPreview("locateImage",e,i)}))}))},methods:{imgLoaded:function(){this.imgRatio=this.imgEl.naturalWidth/this.imgEl.naturalHeight,this.stemEl.width=this.imgEl.naturalWidth,this.stemEl.height=this.imgEl.naturalHeight,this.resetData(),this.callPreview("setData",{src:this.src,bgColor:this.bgColor})},resetData:function(){this.setTL$.next({left:0,top:0});var t=this.ratio>this.imgRatio?this.imgRatio/this.ratio:1;this.setWH$.next(t)}}},p=b,f=(i("4acf"),i("2877")),m=Object(f["a"])(p,a,o,!1,null,"d9bfe1be",null);e["a"]=m.exports},a728:function(t,e,i){var a=i("193a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("0a8aa881",a,!0,{sourceMap:!1,shadowMode:!1})},b976:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".vertical.clip-area .img[data-v-7e3a48a2],.vertical .img-scale[data-v-7e3a48a2]{width:auto;height:100%}.clip-area[data-v-7e3a48a2]{position:relative;width:100%;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:crosshair}.clip-area .img[data-v-7e3a48a2]{position:relative}.clip-area .img[data-v-7e3a48a2],.stem-canvas[data-v-7e3a48a2]{width:100%;display:block;pointer-events:none}.in-pad[data-v-7e3a48a2]{position:absolute;top:0;left:0;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box}.img-scale[data-v-7e3a48a2],.in-pad[data-v-7e3a48a2]{pointer-events:none;width:100%}.img-scale[data-v-7e3a48a2]{position:relative}.zoom-area[data-v-7e3a48a2]{-webkit-box-sizing:border-box;box-sizing:border-box;border-color:#1baae8;overflow:visible}.corner[data-v-7e3a48a2],.zoom-area[data-v-7e3a48a2]{position:absolute;border-style:solid}.corner[data-v-7e3a48a2]{border-color:#fff;width:10px;height:10px;opacity:.7}.corner[data-v-7e3a48a2]:hover{opacity:1}.corner1[data-v-7e3a48a2]{top:0;left:0;border-width:3px 0 0 3px;cursor:nwse-resize}.corner2[data-v-7e3a48a2]{top:0;right:0;border-width:3px 3px 0 0;cursor:nesw-resize}.corner3[data-v-7e3a48a2]{bottom:0;right:0;border-width:0 3px 3px 0;cursor:nwse-resize}.corner4[data-v-7e3a48a2]{bottom:0;left:0;border-width:0 0 3px 3px;cursor:nesw-resize}.extend[data-v-7e3a48a2]{color:#fff;top:0;left:0;cursor:move}.extend[data-v-7e3a48a2],.extend.outer[data-v-7e3a48a2]{width:100%;height:100%}.extend.outer[data-v-7e3a48a2]{position:absolute;border-style:solid;-webkit-box-sizing:content-box;box-sizing:content-box;opacity:0;-webkit-transition:opacity .5s;transition:opacity .5s}.extend.outer[data-v-7e3a48a2]:hover{opacity:.3}.extend.inner[data-v-7e3a48a2]{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.extend.inner:hover .drag-inset[data-v-7e3a48a2]{opacity:.3}.extend.inner:hover .drag-inset:hover.drag-inset[data-v-7e3a48a2]{opacity:0}.drag-inset[data-v-7e3a48a2]{position:relative;-webkit-box-shadow:0 0 0 4080px #fff;box-shadow:0 0 0 4080px #fff;cursor:-webkit-grab;cursor:grab;opacity:0;-webkit-transition:opacity .5s;transition:opacity .5s}.drag-inset[data-v-7e3a48a2],.grid[data-v-7e3a48a2]{top:0;left:0;width:100%;height:100%}.grid[data-v-7e3a48a2]{pointer-events:none}.grid[data-v-7e3a48a2],.grid-item[data-v-7e3a48a2]{position:absolute}.grid-item[data-v-7e3a48a2]{border-color:hsla(0,0%,100%,.7);border-style:dashed;width:50%;height:50%;-webkit-box-sizing:border-box;box-sizing:border-box}.grid-item[data-v-7e3a48a2]:first-child{top:0;left:0;border-width:0 1px 1px 0;-webkit-transform:translate(.5px,.5px);transform:translate(.5px,.5px)}.grid-item[data-v-7e3a48a2]:nth-child(2){top:0;right:0;border-width:0 0 1px 0;-webkit-transform:translate(-.5px,.5px);transform:translate(-.5px,.5px)}.grid-item[data-v-7e3a48a2]:nth-child(3){bottom:0;left:0;border-width:0 1px 0 0;-webkit-transform:translate(.5px,-.5px);transform:translate(.5px,-.5px)}.grid-item[data-v-7e3a48a2]:nth-child(4){bottom:0;right:0;border-width:0;-webkit-transform:translate(-.5px,-.5px);transform:translate(-.5px,-.5px)}",""])},c7eb:function(t,e,i){"use strict";const a={prevent:function(t){return t.preventDefault(),t},eTo:function(t,e,i){const a=this[i+"Pos"]();let o=0;switch(e){case"top":o=t.clientY-a.top;break;case"left":o=t.clientX-a.left;break;case"right":o=a.right-t.clientX;break;case"bottom":o=a.bottom-t.clientY;break}return o},toPercentage:function(t){const e={},i={left:"toX",right:"toX",top:"toY",bottom:"toY",width:"toX",height:"toY"};for(let a in t){const o=i[a];o&&void 0!==t[a]&&(e[a]=this[o](t[a]))}return e},invalidDrawPos:function(t){return 0===t.swidth||0===t.sheight}};var o=a;const r={eToArea:function(t,e){return this.eTo(t,e,"area")},areaPos:function(){const t=this.areaEl.getBoundingClientRect();return t},zoomPos:function(){const t=this.zoomEl.getBoundingClientRect();return t},eInZoom:function(t){const e=this.zoomEl.getBoundingClientRect();return{width:e.width,height:e.height,left:t.clientX-e.left,top:t.clientY-e.top}},zoomInArea:function(){const t=this.areaEl.getBoundingClientRect(),e=this.zoomEl.getBoundingClientRect();return Object.assign(e,{offsetLeft:e.left-t.left,offsetTop:e.top-t.top,maxLeft:t.width-e.width,maxTop:t.height-e.height})},toX:function(t){const e=this.areaPos();return Math.min(Math.max(t/e.width*100,0),100)},toY:function(t){const e=this.areaPos();return Math.min(Math.max(t/e.height*100,0),100)},isDragElement:function(t){return t.target===this.$el.querySelector(".drag-inset")},dragMoving:function({down:t,move:e}){const i=this.toX(this.eToArea(e,"left")-t.left),a=this.toY(this.eToArea(e,"top")-t.top);return{left:i,top:a,down:t,move:e}},repositionDrag:function({left:t,top:e,down:i,move:a}){const o=this.zoomInArea(),r=this.toX(o.maxLeft),n=this.toY(o.maxTop);if(t=Math.min(t,r),e=Math.min(e,n),t===r||0===t){const t=this.eInZoom(a);i.left=Math.max(Math.min(t.left,t.width),0)}if(e===n||0===e){const t=this.eInZoom(a);i.top=Math.max(Math.min(t.top,t.height),0)}return{left:t,top:e}},ratioPos:function(t){const e=this.zoomPos();let i=t.width-e.width,a=t.height-e.height,o=i>a;return{x:o,y:!o}},zoomingPosition:function({down:t,move:e}){let i=e.clientX>t.clientX?"r":"l",a=e.clientY>t.clientY?"b":"t";const o=()=>this.eToArea(t,"top"),r=()=>this.eToArea(t,"left"),n=o(),s=r(),c=this.areaPos();let h,l,d,u,b,p,f=0,m=0;const g=this.minWidth*c.width/100,w=this.ratio?g/this.ratio:this.minHeight*c.height/100;return"r"===i?(s+g>c.width?(t.clientX=c.right-g,h=s):h=r(),b=c.width-h,f=e.clientX-t.clientX):"l"===i&&(s<g&&(t.clientX=c.left+g),d=c.right-t.clientX,b=c.width-d,f=t.clientX-e.clientX),"b"===a?(n+w>c.height?(t.clientY=c.bottom-w,l=n):l=o(),p=c.height-l,m=e.clientY-t.clientY):"t"===a&&(n<w&&(t.clientY=c.top+w),u=c.bottom-t.clientY,p=c.height-u,m=t.clientY-e.clientY),f=Math.max(Math.min(f,b),g),m=Math.max(Math.min(m,p),w),{width:f,height:m,top:l,left:h,right:d,bottom:u,maxWidth:b,maxHeight:p}},setRatioWH:function({width:t,height:e,maxWidth:i,maxHeight:a,left:o,top:r,right:n,bottom:s}){if(!this.ratio)return{width:t,height:e,left:o,top:r,right:n,bottom:s};const c=this.ratioPos({width:t,height:e});return c.x?(e=Math.min(t/this.ratio,a),t=e===a?e*this.ratio:t):(t=Math.min(e*this.ratio,i),e=t===i?t/this.ratio:e),{width:t,height:e,left:o,top:r,right:n,bottom:s}},initWHTL:function(){let t=this.initWidth,e=this.initHeight,i=(100-this.initWidth)/2,a=(100-this.initHeight)/2;if(this.ratio){if(this.ratio){const o=this.wrapRatio||this.imgRatio,r=()=>{e=Math.max(t/this.ratio*o,this.minHeight),a=(100-e)/2},n=()=>{t=Math.max(e*this.ratio/o,this.minWidth),i=(100-t)/2};if(o<=this.ratio){if(r(),this.minHeight===e&&n(),t>100)throw new Error("Invalid ratio, wrapRatop, minWidth combination")}else if(n(),this.minWidth===t&&r(),e>100)throw new Error("Invalid ratio, wrapRatop, minWidth combination")}}else{if(t<this.minWidth)throw new Error("Invalid initWidth, minWidth combination");if(e<this.minHeight)throw new Error("Invalid initHeight, minHeight combination")}return this.setTL$.next({left:i,top:a}),{width:t,height:e}},splitPos:function({top:t,left:e,right:i,bottom:a,width:o,height:r,maxWidth:n,maxHeight:s}){return{tl:{left:e,top:t,right:i,bottom:a},wh:{width:o,height:r,maxWidth:n,maxHeight:s}}},isZoomElement:function(t){return this.zoomEl.contains(t.target)&&t.target!==this.$el.querySelector(".drag-inset")},judgeArea:function(t){const e=this.zoomPos(),i=e.left+e.width/2,a=e.top+e.height/2,o=t.clientX,r=t.clientY;return{l:o<i,r:o>i,t:r<a,b:r>a}},setDownPosition:function(t){const e=this.judgeArea(t),i=this.zoomPos(),a=e.t?i.bottom:i.top,o=e.l?i.right:i.left;return{target:null,clientX:o,clientY:a}},isTwoPointZoomElement:function(t){return this.areaEl.contains(t.touches[0].target)&&this.areaEl.contains(t.touches[1].target)},getTwoTouchesPos:function(t,e,i){const a=this.areaPos(),o=e.touches[0].clientX<e.touches[1].clientX,r=e.touches[0].clientY<e.touches[1].clientY,n=t.touches[0].clientX<t.touches[1].clientX,s=t.touches[0].clientY<t.touches[1].clientY,c={left:o?0:1,right:o?1:0,top:r?0:1,bottom:r?1:0},h={left:n?0:1,right:n?1:0,top:s?0:1,bottom:s?1:0},l=t.touches[h.left].clientX-e.touches[c.left].clientX,d=t.touches[h.top].clientY-e.touches[c.top].clientY,u=this.minWidth*a.width/100,b=this.ratio?u/this.ratio:this.minHeight*a.height/100,p=Math.min(i.left-a.left-l,a.width-u),f=Math.min(i.top-a.top-d,a.height-b),m=a.width-p,g=a.height-f,w=t.touches[h.right].clientX-i.right,v=t.touches[h.bottom].clientY-i.bottom,x=Math.max(Math.min(e.touches[c.right].clientX-a.left-p-w,m),u),y=Math.max(Math.min(e.touches[c.bottom].clientY-f-a.top-v,g),b);return{width:x,height:y,top:f,left:p,maxWidth:m,maxHeight:g}},isCreateElement:function(t){return t.target===this.$el.querySelector(".clip-area")||t.target===this.$el.querySelector(".img")},getFakeDown:function(t){return{target:t.target,clientX:t.clientX,clientY:t.clientY}},reverseDownPos:function({down:t,move:e}){if("normal"===this.mode)return{down:t,move:e};if(null!==t.target&&t.target===this.$el.querySelector(".clip-area"))return t.target=null,{down:t,move:e};const i=this.judgeArea(t),a=this.zoomPos();return i.l&&e.clientX<=t.clientX?t.clientX=a.right:i.r&&e.clientX>=t.clientX&&(t.clientX=a.left),i.t&&e.clientY<=t.clientY?t.clientY=a.bottom:i.b&&e.clientY>=t.clientY&&(t.clientY=a.top),{down:t,move:e}},getCreatePos:function({down:t,move:e}){let i=e.clientX>t.clientX?"r":"l",a=e.clientY>t.clientY?"b":"t";const o={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,offsetTop:this.eToArea(t,"top"),offsetLeft:this.eToArea(t,"left")};return o[i]=!0,o[a]=!0,{down:t,move:e}},getDrawPos:function(){const t=this.zoomPos(),e=this.scaleEl.getBoundingClientRect(),i=this.imgEl.naturalWidth,a=e.width,o=t.left-e.left+this.border,r=t.top-e.top+this.border,n=t.width-2*this.border,s=t.height-2*this.border,c=i/a,h={rotateX:(e.left+e.width/2-(t.left+this.border))*c,rotateY:(e.top+e.height/2-(t.top+this.border))*c,drawX:(e.left-(t.left+this.border))*c,drawY:(e.top-(t.top+this.border))*c},l={sx:o*c,sy:r*c,swidth:n*c,sheight:s*c,dx:0,dy:0,dwidth:n*c,dheight:s*c};return l[Symbol.iterator]=function*(){for(let t in l)yield l[t]},{pos:l,translate:h}}};var n=r;const s={wrapPos:function(){return this.wrapEl.getBoundingClientRect()},scalePos:function(){return this.scaleEl.getBoundingClientRect()},translatePos:function(){return this.translateEl.getBoundingClientRect()},toX:function(t){const e=this.scalePos();return t/e.width*100},toY:function(t){const e=this.scalePos();return t/e.height*100},isDragElement:function(t){return this.wrapEl.contains(t.target)},dragDownPos:function(t){const e=this.translatePos(),i=this.scalePos(),a={left:e.left-i.left,top:e.top-i.top,clientX:t.clientX,clientY:t.clientY};return a},delta:function({down:t,move:e}){const i=e.clientX-t.clientX+t.left,a=e.clientY-t.clientY+t.top;return{left:i,top:a}},towPointsTouches:function(t){return t.touches},setOrigin:function(t){return{down:[t[0],t[1]],origin:this.scalePos().width}},twoPointsDelta:function({down:t,move:e}){const i=Math.abs(e[0].clientX-e[1].clientX)-Math.abs(t[0].clientX-t[1].clientX),a=Math.abs(e[0].clientY-e[1].clientY)-Math.abs(t[0].clientY-t[1].clientY);t[0]=e[0],t[1]=e[1];const o=this.wrapPos();return Math.abs(i)>=Math.abs(a)?i/o.width:a/o.height},getDrawPos:function(){const t=this.areaEl.getBoundingClientRect(),e=this.translatePos(),i=this.imgEl.naturalWidth,a=t.left-e.left+this.border,o=t.top-e.top+this.border,r=i/e.width,n={rotateX:(e.left+e.width/2-(t.left+this.border))*r,rotateY:(e.top+e.height/2-(t.top+this.border))*r,drawX:(e.left-(t.left+this.border))*r,drawY:(e.top-(t.top+this.border))*r},s={sx:a*r,sy:o*r,swidth:(t.width-2*this.border)*r,sheight:(t.height-2*this.border)*r,dx:0,dy:0,dwidth:(t.width-2*this.border)*r,dheight:(t.height-2*this.border)*r};return s[Symbol.iterator]=function*(){for(let t in s)yield s[t]},{pos:s,translate:n}},calcWheelScaling:function(t){const e=this.bgWH$;let i=this.zoomRate*Math.max(e,.8)*t;return Math.max(e+i,this.minScale)},calcTouchScaling:function(t){const e=this.bgWH$;let i=Math.max(e,.8)*t;return Math.max(e+i,this.minScale)}};var c=s,h=i("6e77"),l=i("d8dd");i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return u})),i.d(e,"d",(function(){return b})),i.d(e,"e",(function(){return p})),i.d(e,"c",(function(){return f}));const d=Object.assign(n,o),u=Object.assign(c,o),b={beforeCreate(){this.mousedown$=Object(h["a"])(window,"mousedown"),this.mousemove$=Object(h["a"])(window,"mousemove"),this.mouseup$=Object(h["a"])(window,"mouseup"),this.touchstart$=Object(h["a"])(window,"touchstart",{passive:!1}),this.touchmove$=Object(h["a"])(window,"touchmove",{passive:!1}),this.touchend$=Object(h["a"])(window,"touchend",{passive:!1})}},p={beforeCreate(){this.wheel$=Object(h["a"])(window,"wheel",{passive:!1})}},f={methods:{clip:function(){const t=this.getDrawPos(),e=this.canvasEl.getContext("2d"),i=t.pos.swidth,a=t.pos.sheight;return this.canvasEl.width=i,this.canvasEl.height=a,e.fillStyle=this.bgColor,e.fillRect(0,0,i,a),e.translate(t.translate.rotateX,t.translate.rotateY),e.rotate(this.rotate*Math.PI/180),e.translate(t.translate.drawX-t.translate.rotateX,t.translate.drawY-t.translate.rotateY),e.drawImage(this.imgEl,0,0),this.canvasEl},callPreview:function(t,...e){const i=l["a"].parentPropName;if(!this.preview)return;if(!this.$parent[i])return;let a=this.$parent[i][this.preview];a&&a.forEach(i=>{i[t](...e)})},emit:function(t,e){this.$emit(t,e)}}}},ca1a:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preview"},[i("div",{staticClass:"wrap",style:t.wrapStyle},[i("canvas",{staticClass:"shim",attrs:{width:t.outerWidth,height:t.outerHeight}}),i("div",{staticClass:"img-pos",style:t.styleObj},[i("div",{staticClass:"img-rotate",style:t.rotateStyle},[i("img",{staticClass:"img",attrs:{src:t.src},on:{load:t.imgLoaded}})])])]),i("div",{staticClass:"placeholder",style:t.eptStyle},[t._t("placeholder")],2)])},o=[],r=(i("7f7f"),i("d8dd")),n={props:{name:{type:String,required:!0}},data:function(){return{src:"",imgEl:null,imgWidth:1,imgHeight:1,outerWidth:1,outerHeight:1,bgColor:"white",pos:{},rotate:0}},computed:{styleObj:function(){var t=this.pos.sx/this.imgWidth,e=this.pos.sy/this.imgHeight,i=this.imgWidth/this.pos.swidth;return{transform:"scale(".concat(i,") translate(").concat(-100*t,"% ,").concat(-100*e,"%)")}},rotateStyle:function(){return{transform:"rotate(".concat(this.rotate,"deg)")}},wrapStyle:function(){var t=this.src?"block":"none";return{backgroundColor:this.bgColor,display:t}},eptStyle:function(){return{display:this.src?"none":"block"}}},mounted:function(){this.imgEl=this.$el.querySelector(".img"),this.initListener()},methods:{initListener:function(){var t=this.$parent,e=r["a"].parentPropName;t[e]||(t[e]={}),t[e][this.name]||(t[e][this.name]=[]);var i=t[e][this.name];i.push(this)},setData:function(t){for(var e in t)this[e]=t[e]},imgLoaded:function(){this.imgWidth=this.imgEl.naturalWidth,this.imgHeight=this.imgEl.naturalHeight},locateImage:function(t,e){this.rotate=e,this.outerWidth=t.swidth,this.outerHeight=t.sheight,this.pos=t}}},s=n,c=(i("27af"),i("2877")),h=Object(c["a"])(s,a,o,!1,null,"50e0d35b",null);e["a"]=h.exports},cfda:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{click:t.triggerInput}},[t._t("default"),i("img",{staticClass:"stem",staticStyle:{display:"none"},attrs:{src:t.DomString}}),i("input",{staticClass:"upload",staticStyle:{display:"none"},attrs:{type:"file",accept:t.accept},on:{change:function(e){return t.upload(e)},click:function(e){return t.clear(e)}}})],2)},o=[],r=(i("f559"),i("6f45")),n=i.n(r),s={props:{accept:{type:String,default:"*"},exif:{type:Boolean,default:!0},value:{type:String,default:""},check:{type:Boolean,default:!0}},data:function(){return{uploadEl:null,DomString:""}},mounted:function(){this.uploadEl=this.$el.querySelector(".upload")},methods:{upload:function(t){var e=this;1===t.target.files.length&&(this.file=t.target.files[0],this.check&&!this.file.type.startsWith("image/")||(this.DomString&&/^blob:/.test(this.DomString)&&window.URL.revokeObjectURL(this.DomString),this.DomString=window.URL.createObjectURL(this.file),this.checkEXIF().then((function(){e.$emit("input",e.DomString)}))))},checkEXIF:function(){var t=this;return new Promise((function(e,i){if(!t.exif)return i(new Error);e()})).then((function(){return t.getEXIF()})).then((function(e){return t.getImageRect().then((function(t){var i=t.width,a=t.height;return Promise.resolve({width:i,height:a,orientation:e})})).catch((function(){return Promise.reject(new Error)}))})).then(this.tranformCanvas).catch((function(){return Promise.resolve()}))},getEXIF:function(){var t=this;return new Promise((function(e,i){n.a.getData(t.file,(function(){var t=this.exifdata.Orientation;void 0!==t&&1!==t||i(new Error),e(t)}))}))},getImageRect:function(){var t=this;return new Promise((function(e,i){var a=t.$el.querySelector(".stem");if(a.complete)return e({width:a.naturalWidth,height:a.naturalHeight});a.onload=function(){e({width:this.naturalWidth,height:this.naturalHeight})},a.onerror=function(){i(new Error("img on load error"))}}))},tranformCanvas:function(t){var e=t.width,i=t.height,a=t.orientation,o=document.createElement("canvas"),r=o.getContext("2d");switch(a>4&&a<9?(o.width=i,o.height=e):(o.width=e,o.height=i),a){case 2:r.transform(-1,0,0,1,e,0);break;case 3:r.transform(-1,0,0,-1,e,i);break;case 4:r.transform(1,0,0,-1,0,i);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,i,0);break;case 7:r.transform(0,-1,-1,0,i,e);break;case 8:r.transform(0,-1,1,0,0,e);break;default:break}r.drawImage(this.$el.querySelector(".stem"),0,0),this.DomString=o.toDataURL(this.file.type)},clear:function(t){t.target.value=null},triggerInput:function(){this.uploadEl&&this.uploadEl.click()}}},c=s,h=i("2877"),l=Object(h["a"])(c,a,o,!1,null,null,null);e["a"]=l.exports},d4ce:function(t,e,i){"use strict";var a=i("65d5"),o=i.n(a);o.a},d8dd:function(t,e,i){"use strict";const a={parentPropName:"_imgPreviewLists"};e["a"]=a},dd82:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".wrap[data-v-50e0d35b]{width:100%;position:relative;overflow:hidden}.shim[data-v-50e0d35b]{display:block;position:relative}.img-pos[data-v-50e0d35b],.shim[data-v-50e0d35b]{width:100%;top:0;left:0}.img-pos[data-v-50e0d35b]{position:absolute;-webkit-transform-origin:0 0;transform-origin:0 0}.img-rotate[data-v-50e0d35b]{-webkit-transform-origin:50% 50%;transform-origin:50% 50%}.img[data-v-50e0d35b],.img-rotate[data-v-50e0d35b]{position:relative;top:0;left:0;width:100%}.img[data-v-50e0d35b]{display:block}",""])}}]);
//# sourceMappingURL=chunk-vendors~336289b9.b1d7729b.js.map