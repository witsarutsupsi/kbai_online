<template>
  <div class="hello">
    <div class="panel">
      <div class="mascot">
        <img src="../assets/UI/png/Group 102.png" alt="" srcset="" />
        <div class="balloon">
          <p class="txt">
            ยินดีต้อนรับเข้าสู่ <span class="highlight">KidBright AI IDE</span
            ><br /><span class="name">น้องขนมชั้น</span
            >ทำหน้าที่เป็นผู้แนะนำการใช้งานครับ
          </p>
          <svg
            class="bg"
            xmlns="http://www.w3.org/2000/svg"
            width="603"
            height="197.833"
            viewBox="0 0 603 197.833"
          >
            <g
              id="Group_68"
              data-name="Group 68"
              transform="translate(-1128 -142)"
            >
              <rect
                id="Rectangle_8"
                data-name="Rectangle 8"
                width="603"
                height="169"
                rx="84.5"
                transform="translate(1128 142)"
                fill="#fff"
              />
              <path
                id="Path_63"
                data-name="Path 63"
                d="M1138.667,340s62.667,6.667,70.667-40"
                transform="translate(5 -9)"
                fill="none"
                stroke="#fff"
                stroke-linecap="round"
                stroke-width="17"
              />
            </g>
          </svg>
        </div>
      </div>
      <p class="btn-start">
        <span v-if="isLoading" class="active">LOADING...</span>        
        <router-link v-if="!isLoading" v-on:click="isInsert = true" to="/home" >LET'S START!</router-link><!--v-if="!isLoading" v-on:click="isInsert = true"-->
      </p>
    </div>
    <div class="hint active"> <!--v-if="isInsert"-->
      <div class="hint-ttl">
        <p class="icon op-btn">
          <svg
            class="off"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 36.572"
          >
            <g
              id="Group_103"
              data-name="Group 103"
              transform="translate(-1022 -151)"
            >
              <g id="light-bulb" transform="translate(1022 151)">
                <path
                  id="Path_64"
                  data-name="Path 64"
                  d="M16.57,27.5H7.428a1.072,1.072,0,0,1-1.048-.85c-.173-.819-.347-1.823-.515-2.795-.1-.581-.2-1.178-.305-1.729a12,12,0,1,1,12.879,0c-.1.551-.205,1.147-.305,1.728-.168.972-.341,1.976-.515,2.795a1.071,1.071,0,0,1-1.048.85Zm0,0"
                  transform="translate(0 0)"
                  fill="#bbfff1"
                />
                <path
                  id="Path_65"
                  data-name="Path 65"
                  d="M168,0V27.5h4.571a1.071,1.071,0,0,0,1.048-.85c.173-.819.347-1.823.514-2.795.1-.581.2-1.177.305-1.728A12,12,0,0,0,168,0Zm0,0"
                  transform="translate(-156)"
                  fill="#9fe8ff"
                />
                <path
                  id="Path_66"
                  data-name="Path 66"
                  d="M93.675,366.214a5.721,5.721,0,0,1-5.714-5.714v-4.429A1.071,1.071,0,0,1,89.032,355h9.289a1.071,1.071,0,0,1,1.071,1.071V360.5a5.722,5.722,0,0,1-5.717,5.714Zm0,0"
                  transform="translate(-81.678 -329.643)"
                  fill="#f5f0eb"
                />
                <path
                  id="Path_67"
                  data-name="Path 67"
                  d="M118.147,95.355a1.071,1.071,0,0,1-.835-1.742l2.813-3.5h-3.052a1.071,1.071,0,0,1-.84-1.737l3.934-4.968a1.071,1.071,0,1,1,1.68,1.331l-2.559,3.231h3.07a1.071,1.071,0,0,1,.836,1.742l-4.21,5.247A1.07,1.07,0,0,1,118.147,95.355Zm0,0"
                  transform="translate(-107.715 -77.07)"
                  fill="#6c9dff"
                />
                <path
                  id="Path_68"
                  data-name="Path 68"
                  d="M71.767,417.143H58.051a1.071,1.071,0,0,1,0-2.143H71.767a1.071,1.071,0,0,1,0,2.143Zm0,0"
                  transform="translate(-52.91 -385.357)"
                  fill="#ebe1dc"
                />
                <path
                  id="Path_69"
                  data-name="Path 69"
                  d="M71.767,357.143H58.051a1.071,1.071,0,1,1,0-2.143H71.767a1.071,1.071,0,1,1,0,2.143Zm0,0"
                  transform="translate(-52.91 -329.643)"
                  fill="#ebe1dc"
                />
                <path
                  id="Path_70"
                  data-name="Path 70"
                  d="M168,87.427l2.131-2.691a1.071,1.071,0,1,0-1.68-1.33l-.452.57Zm0,0"
                  transform="translate(-156 -77.07)"
                  fill="#6c9dff"
                />
                <path
                  id="Path_71"
                  data-name="Path 71"
                  d="M171.608,153.151a1.071,1.071,0,0,0-.966-.608H168v2.143h.409l-.409.51v3.424l3.479-4.335A1.071,1.071,0,0,0,171.608,153.151Zm0,0"
                  transform="translate(-156 -141.647)"
                  fill="#6c9dff"
                />
                <path
                  id="Path_72"
                  data-name="Path 72"
                  d="M172.643,355H168v11.214a5.722,5.722,0,0,0,5.714-5.714v-4.429A1.071,1.071,0,0,0,172.643,355Zm0,0"
                  transform="translate(-156 -329.643)"
                  fill="#ebe1dc"
                />
                <g
                  id="Group_11"
                  data-name="Group 11"
                  transform="translate(12 25.357)"
                >
                  <path
                    id="Path_73"
                    data-name="Path 73"
                    d="M174.857,355H168v2.143h6.857a1.071,1.071,0,1,0,0-2.143Zm0,0"
                    transform="translate(-168 -355)"
                    fill="#dcd2cd"
                  />
                  <path
                    id="Path_74"
                    data-name="Path 74"
                    d="M174.857,415H168v2.143h6.857a1.071,1.071,0,1,0,0-2.143Zm0,0"
                    transform="translate(-168 -410.714)"
                    fill="#dcd2cd"
                  />
                </g>
              </g>
            </g>
          </svg>
          <svg
            class="on"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 36.375 55.429"
          >
            <g id="light-bulb" transform="translate(0 0)">
              <path
                id="Path_64"
                data-name="Path 64"
                d="M25.115,41.68H11.258a1.624,1.624,0,0,1-1.589-1.288c-.263-1.241-.525-2.764-.78-4.236-.152-.881-.308-1.786-.463-2.621a18.191,18.191,0,1,1,19.519,0c-.155.834-.311,1.738-.463,2.619-.254,1.473-.517,3-.78,4.236a1.624,1.624,0,0,1-1.589,1.288Zm0,0"
                transform="translate(0 0)"
                fill="#ffd222"
              />
              <path
                id="Path_65"
                data-name="Path 65"
                d="M168,0V41.68h6.927a1.624,1.624,0,0,0,1.589-1.288c.263-1.241.526-2.763.78-4.236.152-.88.308-1.785.463-2.619A18.189,18.189,0,0,0,168,0Zm0,0"
                transform="translate(-149.813)"
                fill="#ecbd00"
              />
              <path
                id="Path_66"
                data-name="Path 66"
                d="M96.622,372a8.67,8.67,0,0,1-8.661-8.661v-6.712A1.624,1.624,0,0,1,89.585,355h14.078a1.624,1.624,0,0,1,1.624,1.624v6.712A8.673,8.673,0,0,1,96.622,372Zm0,0"
                transform="translate(-78.439 -316.568)"
                fill="#f5f0eb"
              />
              <path
                id="Path_67"
                data-name="Path 67"
                d="M119.253,101.727a1.624,1.624,0,0,1-1.265-2.64l4.263-5.312h-4.626a1.624,1.624,0,0,1-1.273-2.632l5.963-7.529a1.624,1.624,0,1,1,2.546,2.017l-3.878,4.9h4.653a1.624,1.624,0,0,1,1.267,2.64l-6.381,7.952A1.622,1.622,0,0,1,119.253,101.727Zm0,0"
                transform="translate(-103.443 -74.013)"
                fill="#fff16c"
              />
              <path
                id="Path_68"
                data-name="Path 68"
                d="M79.392,418.248H58.6a1.624,1.624,0,0,1,0-3.248H79.392a1.624,1.624,0,0,1,0,3.248Zm0,0"
                transform="translate(-50.812 -370.073)"
                fill="#ebe1dc"
              />
              <path
                id="Path_69"
                data-name="Path 69"
                d="M79.392,358.248H58.6a1.624,1.624,0,1,1,0-3.248H79.392a1.624,1.624,0,1,1,0,3.248Zm0,0"
                transform="translate(-50.812 -316.568)"
                fill="#ebe1dc"
              />
              <path
                id="Path_70"
                data-name="Path 70"
                d="M168,89.71l3.23-4.079a1.624,1.624,0,1,0-2.546-2.016l-.685.864Zm0,0"
                transform="translate(-149.813 -74.013)"
                fill="#f2de00"
              />
              <path
                id="Path_71"
                data-name="Path 71"
                d="M173.469,153.465a1.624,1.624,0,0,0-1.464-.921H168v3.248h.62l-.62.773v5.189l5.272-6.57A1.623,1.623,0,0,0,173.469,153.465Zm0,0"
                transform="translate(-149.812 -136.029)"
                fill="#f2de00"
              />
              <path
                id="Path_72"
                data-name="Path 72"
                d="M175.037,355H168v17a8.673,8.673,0,0,0,8.661-8.661v-6.712A1.624,1.624,0,0,0,175.037,355Zm0,0"
                transform="translate(-149.813 -316.568)"
                fill="#ebe1dc"
              />
              <g
                id="Group_11"
                data-name="Group 11"
                transform="translate(18.187 38.432)"
              >
                <path
                  id="Path_73"
                  data-name="Path 73"
                  d="M178.393,355H168v3.248h10.393a1.624,1.624,0,1,0,0-3.248Zm0,0"
                  transform="translate(-168 -355)"
                  fill="#dcd2cd"
                />
                <path
                  id="Path_74"
                  data-name="Path 74"
                  d="M178.393,415H168v3.248h10.393a1.624,1.624,0,1,0,0-3.248Zm0,0"
                  transform="translate(-168 -408.504)"
                  fill="#dcd2cd"
                />
              </g>
            </g>
          </svg>
        </p>
        <p class="ttl">เริ่มต้นการใช้งาน</p>
        <p class="btn-close op-btn">
          <svg
            id="cancel"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 46 46"
          >
            <circle
              id="Ellipse_6"
              data-name="Ellipse 6"
              cx="23"
              cy="23"
              r="23"
              transform="translate(0)"
              fill="#f15249"
            />
            <path
              id="Path_78"
              data-name="Path 78"
              d="M147.2,167.953l12.407,12.407a22.881,22.881,0,0,0,20.025-19.88L167.153,148Z"
              transform="translate(-133.85 -134.577)"
              fill="#ad0e0e"
            />
            <path
              id="Path_79"
              data-name="Path 79"
              d="M147.728,141.2a2.717,2.717,0,0,1,0,3.773L145.7,147a2.717,2.717,0,0,1-3.773,0l-15.962-15.962a2.716,2.716,0,0,1,0-3.773l2.1-2.1a2.717,2.717,0,0,1,3.773,0Z"
              transform="translate(-113.845 -113.118)"
              fill="#fff"
            />
            <path
              id="Path_80"
              data-name="Path 80"
              d="M221.877,216,216,221.877l8.489,8.416a2.716,2.716,0,0,0,3.773,0l2.1-2.1a2.716,2.716,0,0,0,0-3.773Z"
              transform="translate(-196.41 -196.41)"
              fill="#d6d6d6"
            />
            <path
              id="Path_81"
              data-name="Path 81"
              d="M141.924,125.962a2.716,2.716,0,0,1,3.773,0l2.1,2.1a2.716,2.716,0,0,1,0,3.773l-16.035,15.89a2.717,2.717,0,0,1-3.773,0l-2.032-2.032a2.716,2.716,0,0,1,0-3.773Z"
              transform="translate(-113.845 -113.845)"
              fill="#fff"
            />
          </svg>
        </p>
      </div>
      <div class="hint-txt">
        เริ่มต้นการใช้งานโดยกดปุ่ม
        <span class="img">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            width="164"
            height="51"
            viewBox="0 0 164 51"
          >
            <defs>
              <filter
                id="Rectangle_105"
                x="0"
                y="0"
                width="164"
                height="51"
                filterUnits="userSpaceOnUse"
              >
                <feOffset input="SourceAlpha" />
                <feGaussianBlur stdDeviation="3" result="blur" />
                <feFlood flood-opacity="0.161" />
                <feComposite operator="in" in2="blur" />
                <feComposite in="SourceGraphic" />
              </filter>
            </defs>
            <g
              id="Group_104"
              data-name="Group 104"
              transform="translate(-1788 -276)"
            >
              <g
                transform="matrix(1, 0, 0, 1, 1788, 276)"
                filter="url(#Rectangle_105)"
              >
                <rect
                  id="Rectangle_105-2"
                  data-name="Rectangle 105"
                  width="146"
                  height="33"
                  rx="16.5"
                  transform="translate(9 9)"
                  fill="#fff"
                />
              </g>
              <text
                id="LET_S_START_"
                data-name="LET’S START!"
                transform="translate(1870 306)"
                fill="#333"
                font-size="14"
                font-family="ArialRoundedMTBold, Arial Rounded MT"
              >
                <tspan x="-47.701" y="0">LET’S START!</tspan>
              </text>
            </g>
          </svg>
        </span>
      </div>      
    <svg
      class="bg-shadow"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1807.987 884.553"
    >
      <path
        id="Subtraction_4"
        data-name="Subtraction 4"
        d="M119-3761.947h0v-884.21l.393-.168.406-.174H1926.987l-.092.343c-3.666,13.609-7.726,27.266-12.068,40.588-4.3,13.182-8.992,26.413-13.956,39.326a805.2,805.2,0,0,1-33.309,74.948c-12.066,23.793-25.546,47.392-40.064,70.142-14.189,22.233-29.761,44.269-46.285,65.494-16.136,20.728-33.623,41.253-51.975,61.006-17.9,19.27-37.125,38.339-57.133,56.677-19.5,17.872-40.277,35.537-61.758,52.507-20.917,16.524-43.073,32.841-65.853,48.5-22.161,15.231-45.516,30.252-69.414,44.646-23.222,13.986-47.6,27.766-72.444,40.955-24.111,12.8-49.325,25.388-74.942,37.422-24.819,11.659-50.694,23.115-76.908,34.049-25.357,10.577-51.715,20.951-78.342,30.835-25.714,9.545-52.375,18.892-79.245,27.781-25.9,8.567-52.682,16.94-79.614,24.885-25.894,7.64-52.626,15.092-79.452,22.149-50.361,13.249-102.945,25.607-156.291,36.729-48.5,10.112-98.72,19.43-149.26,27.7-85.127,13.923-172.74,25.159-260.4,33.4-34.445,3.236-68.975,6.011-102.632,8.247-26.919,1.789-53.356,3.24-78.577,4.313C144.529-3762.063,120.023-3761.951,119-3761.947Z"
        transform="translate(-119 4646.5)"
        fill="#333"
        opacity="0.12"
      />
    </svg>
  </div>
</template>

<script>
import $ from "jquery";
import axios from 'axios'
var axiosInstance = axios.create({
    baseURL: `${location.protocol}//${location.hostname}`,
})
export default {
  name: "HelloWorld",
  data() {
    return {
      name: "LoadingScreen",
      isInsert: false,
      //props: ["isLoading"]
      isLoading: true
    };
  },
  mounted() {
        /*setTimeout(() => {
            this.isLoading = false;
        }, 3000);*/
        const intervalObj = setInterval(() => {
            axiosInstance.get('getDrive').then((response) => {
              console.log(response.data.drives)
              if(response.data.drives === 'OK'){
                this.isLoading = false;
                console.log(response.data.mountPoints.path)
                this.$store.commit('setUsbPath', response.data.mountPoints.path)
                clearInterval(intervalObj);
              }
            })
        }, 1500);
    }



};

$(document).ready(function() {
  $(".hint .btn-close, .hint .icon svg").click(function() {
    $(".hint").toggleClass("active");
  });
});


</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style lang="scss" scoped>
$primary-color: #007e4e;
$black: #333;
$yellow: #fff7d6;
$grey: #eeeeee;

* {
  margin: 0;
  padding: 0;
  outline: none;
  box-sizing: border-box;
}
.op-btn {
  transition: opacity 0.3s ease-in;
  cursor: pointer;
  &:hover {
    opacity: 0.7;
  }
}
.hello {
  position: relative;
  height: 100vh;
  background-color: $primary-color;
}
.panel {
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;
  height: 100%;
  .mascot {
    position: relative;
    img {
      width: 500px;
    }
    .balloon {
      position: absolute;
      top: -32px;
      right: -274px;
      z-index: 1;
      .txt {
        position: absolute;
        top: 60px;
        left: 40px;
        height: 100%;
        width: 100%;
        font-size: 1.2rem;
        text-align: left;
        span {
          &.highlight {
            color: $primary-color;
            font-weight: 600;
          }
          &.name {
            color: #f15249;
            font-weight: 600;
          }
        }
      }
      svg {
        width: 460px;
      }
    }
  }
  .btn-start {
    margin-top: 30px;
    a {
      color: unset;
      text-decoration: none;
    }
    a,span {
      cursor: pointer;
      display: block;
      border-radius: 46px;
      background: #fff;
      padding: 10px 40px;
      box-shadow: 0px 0px 6px #00000029;
      font-weight: 800;
      font-size: 1.4rem;
      transition: opacity 0.3s ease-in;
      text-align: center;
      &:hover {
        opacity: 0.7;
      }
    }
  }
}
.hint {
  position: absolute;
  top: 20px;
  left: 20px;
  width: 400px;
  background: #444444;
  border-radius: 38px;
  padding: 20px;
  overflow: hidden;
  clip-path: circle(29px at 32px 39px);
  z-index: 1;
  transition: clip-path 0.3s ease-in;

  .hint-ttl {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
    .icon {
      margin-right: 10px;
      svg {
        width: 25px;
        &.on {
          display: none;
        }
        &.off {
          display: block;
        }
      }
    }
    .ttl {
      font-weight: 800;
      font-size: 1.4rem;
      opacity: 0;
      transition: opacity 0.3s ease-in;
    }
    .btn-close {
      position: absolute;
      top: 20px;
      right: 20px;
      opacity: 0;
      transition: opacity 0.3s ease-in;
      svg {
        width: 30px;
      }
    }
  }
  .hint-txt {
    line-height: 1;
    opacity: 0;
    transition: opacity 0.3s ease-in;
    text-align: left;
    .highlight {
      color: $primary-color;
      font-weight: 600;
    }
    .img {
      svg {
        width: 120px;
      }
    }
  }
  .hint-img {
    text-align: center;
    margin: 20px 0;
    opacity: 0;
    transition: opacity 0.3s ease-in;
    svg {
      width: 120px;
    }
  }

  &.active {
    background: #fff7d6 0% 0% no-repeat padding-box;
    clip-path: circle(1000px at 32px 39px);
    .hint-ttl {
      .icon {
        svg {
          &.on {
            display: block;
          }
          &.off {
            display: none;
          }
        }
      }
      .ttl {
        opacity: 1;
      }
      .btn-close {
        opacity: 1;
      }
    }
    .hint-txt {
      opacity: 1;
    }
    .hint-img {
      opacity: 1;
    }
  }
}
.bg-shadow {
  position: absolute;
  top: 0;
  left: 0;
  width: 80%;
  pointer-events: none;
}
</style>
